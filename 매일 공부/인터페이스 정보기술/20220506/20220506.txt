
 20220506



 # 수정 사항.

완료.
품목조회조건은 inputbox로 변경하고 like검색
조회목록에 변경점상태 삭제
데이터 선택시 selectbox 데이터 null일경우 "선택"으로 보여지도록
임시저장일땐 필수체크 제외 발행일자만 무조건 필수로하고 PCN No.는 발행일자를 기준으로
결재완료일때 "저장"버튼 나오게 해서 데이터 수정할 수 있도록
결재정보가 선택되지 않았는데 결재상신버튼 누르면 상신되었다고 나오고 저장실패
담당자는 담당부서에 해당하는 목록이 나오도록



 # 설계.

비즈니스 로직을 처리 방향성.
1. 애플리케이션 리소스가 더 확장하기 쉽다.
	● DB에서 비즈니스 로직을 수행하는 것을 최소화한다.
2. 복잡한 필터링 처리는 데이터베이스의 일.
	● 모든 데이터를 검색하는 쿼리를 만들지 말고 where절을 통해 필요한 데이터만 검색.
	● 필요한 필드만 결과값으로 반환하자.
3. 반환되는 결과를 대상으로 하는 작업 피하기.
	● SELECT POWER( SORT( field1 ) * SIN( field2 ), 5 ) FROM ... 등과 같이 결과값에 연산을 피하자.
4. 조인을 애플리케이션 계층으로 옮기기.
	● 최대한 애플리케이션 계층으로 조인을 옮긴다.
5. 모든 고려 사항을 만족할 순 없다.
	● 모든 고려 사항을 항상 만족하면서 코드를 짤 순 없다.
	● 최대한 쿼리를 간단하게 만들고, 애플리케이션 계층에서 비즈니스 로직을 수행하는 방향으로 생각하자.
출처.
	● https://www.itworld.co.kr/t/61023/%EA%B0%9C%EB%B0%9C%EC%9E%90/208352

김영한님의 조회 DB 부하 설계 방향성.
● 조회 역할.
	○ WHERE ( filter ) , SELECT ( projection ) , GROUP BY ( aggregation )
	○ 세 가지 역할은 가급적 DB에게 맡기고, 나머지 영역은 애플리케이션으로 가져오는 것이 좋다.
● 비즈니스 로직.
	○ 애플리케이션에 영향을 줄 수 있는 비즈니스 로직은 단순한 IF문이라도 애플리케이션에서 처리하자.
● 프레젠테이션 로직.
	○ DB에서 SQL로 날짜 타입을 문자로 가공해서 조회해 오는 것은 좋지 않다.
	○ DB에서는 순수하게 날짜 타입으로 조회하고, 프레젠테이션 로직에서 원하는 모양으로 고치자.
● 매우 복잡한 통계성 쿼리.
	○ DB에서 최대한 많이 처리해도 핵심 비즈니스 로직에 영향을 주는 것이 아니기 때문에 SQL을 잘 활용하자.
● 출처.
	○ https://www.inflearn.com/questions/28390



 # SQL.

MERGE문.
MERGE INTO 테이블1
USING 테이블2
ON ( 조건 )
WHEN MATCHED THEN
	조건이 TRUE 일 때, 실행할 SQL문.
WHEN NOT MATCHED THEN
	조건이 FALSE 일 때, 실행할 SQL문 

CASE문.
SELECT 
	컬럼1,
	컬럼2,
	CASE
		WHEN 조건1 THEN 조건1이 TRUE일 때 실행할 문장 ;
		WHEN 조건2 THEN 조건2가 TRUE일 때 실행할 문장 ;
		ELSE 조건이 모두 FALSE일 때 실행할 문장 ;
	END AS 컬럼이름 
FROM 테이블이름 ;

NVL 연산자.
NVL( 값 , 값이 NULL일때 값 ) ;
NVL2( 값 , NULL이 아닐때 값, NULL일 때 값 ) ;

MyBatis <selectKey>
개념.
	● SQL 수행 전/후에 어떠한 값을 활용해야 할 경우에 사용된다.
사용예시.
	<selectKey resultType="Integer" keyProperty="변수이름" order="AFTER">
		SELECT SEQ.NEXTVAL FROM DUAL 
	</selectKey>



 # 이클립스.

디버깅.
● Step Into : 메소드가 존재할 경우 그 안으로 들어가 메소드 진행 상황을 볼 수 있다.
● Step Over : 다음 라인으로 이동한다. ( 메소드가 있어도 그냥 무시하고 다음 라인으로 이동 )
● Step Return : 현 메소드에서 바로 리턴.
● Drop to Frame : 메소드를 처음부터 다시 실행.

JAVA :: 연산.
개념.
	● 메소드에 사용되어 람다형식처럼 사용할 수 있다.
사용예시.
	클래스타입 a ;
	a :: 메소드이름 ;



